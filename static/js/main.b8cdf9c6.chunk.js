(this["webpackJsonpannalise.ai-test"]=this["webpackJsonpannalise.ai-test"]||[]).push([[0],{42:function(e,t,n){"use strict";n.r(t);var a,c,r,o,s,i,l,u,j,b,d,p,O,m,v=n(0),x=n.n(v),h=n(23),g=n.n(h),f=n(16),y=n(2),S=n(3),C=Object(y.b)(a||(a=Object(S.a)(["\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n"]))),k={breakpoints:{xs:320,sm:600,md:960,lg:1280,xl:1920},responsive:{up:function(e){return"@media (min-width: ".concat(k.breakpoints[e],"px)")}}},_=k,w=n(15),P=n(4),N=Object(v.createContext)(""),T=Object(v.createContext)((function(){})),R=n(6),q=y.c.input(c||(c=Object(S.a)(["\n  padding: 5px;\n"]))),E=n(1),D=function(e){var t=Object.assign({},e);return Object(E.jsx)(q,Object(R.a)({},t))},U=n(29),A=y.c.button(r||(r=Object(S.a)(["\n  padding: 5px;\n"]))),F=["children"],H=function(e){var t=e.children,n=Object(U.a)(e,F);return Object(E.jsx)(A,Object(R.a)(Object(R.a)({},n),{},{children:t}))},L=Object(y.c)(H)(o||(o=Object(S.a)(["\n  margin-left: 10px;\n"]))),G="name",I=function(){var e=Object(P.f)().push,t=Object(v.useContext)(T),n=Object(v.useCallback)((function(n){n.preventDefault();var a=new FormData(n.currentTarget).get(G);t(a),e("/images")}),[]);return Object(E.jsx)("div",{children:Object(E.jsxs)("form",{onSubmit:n,children:[Object(E.jsx)("label",{children:Object(E.jsx)(D,{name:G,required:!0,placeholder:"Type your ".concat(G,"...")})}),Object(E.jsx)(L,{children:"Let's go"})]})})},$=n(11),B=n.n($),K=n(17),M=n(27),W=Object({NODE_ENV:"production",PUBLIC_URL:"/annalise.ai-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_UNSPLASH_API_URL,J=Object(M.a)({apiUrl:W||"http://".concat(window.location.hostname,":8080/unsplash-proxy")}),z=function(){var e=Object(v.useContext)(N);return Object(E.jsxs)("h3",{children:["Hello, ",e]})},V=y.c.div(s||(s=Object(S.a)(["\n  &[aria-disabled='true'] {\n    cursor: not-allowed;\n  }\n\n  &[aria-disabled='true']:active {\n    pointer-events: none;\n  }\n"]))),Q=Object(y.c)(H)(i||(i=Object(S.a)(["\n  margin-left: 10px;\n"]))),X=function(e){var t=e.onPrev,n=e.onNext,a=e.loading,c=void 0!==a&&a;return Object(E.jsxs)(V,{"aria-disabled":c,children:[Object(E.jsx)(H,{onClick:t,disabled:!t,children:"Prev Page"}),Object(E.jsx)(Q,{onClick:n,disabled:!n,children:"Next Page"})]})},Y=y.c.div(l||(l=Object(S.a)(["\n  column-count: ",";\n  column-gap: ",";\n\n  > * {\n    display: grid;\n    grid-template-rows: 1fr auto;\n    overflow: hidden;\n    break-inside: avoid;\n  }\n"])),(function(e){return e.$columnCount}),(function(e){var t=e.$columnGap;return"".concat(t,"px")})),Z=function(e){var t=e.children,n=e.columnCount,a=e.columnGap,c=void 0===a?10:a,r=e.className;return Object(E.jsx)(Y,{$columnCount:n,$columnGap:c,className:r,children:t})},ee=y.c.img(u||(u=Object(S.a)(["\n  max-width: 100%;\n"]))),te=function(e){var t=e.url,n=e.alt,a=e.className;return Object(E.jsx)("div",{className:a,children:Object(E.jsx)(ee,{src:t,alt:n})})},ne=Object(y.c)(Z)(j||(j=Object(S.a)(["\n  column-count: 1;\n\n  ",";\n"])),(function(e){var t=e.columnCount,n=e.theme.responsive;return"\n    ".concat(n.up("sm")," {\n      column-count: ").concat(Math.floor(t/2),";\n    }\n    ").concat(n.up("md")," {\n      column-count: ").concat(t,";\n    }\n  ")})),ae=Object(y.c)(te)(b||(b=Object(S.a)(["\n  display: flex;\n  justify-content: center;\n  margin-bottom: ","px;\n"])),10),ce=function(e){var t=e.data,n=e.loading,a=e.error,c=e.className,r=void 0===c?"":c;return n?Object(E.jsx)("div",{children:"Loading..."}):a?Object(E.jsx)("div",{children:"Error"}):t.length?Object(E.jsx)(ne,{columnCount:4,columnGap:10,className:r,children:t.map((function(e){var t=e.id,n=e.alt_description,a=e.urls.small;return Object(E.jsx)(ae,{url:a,alt:n},t)}))}):Object(E.jsx)("div",{children:"There is no data"})},re=Object(y.c)(D)(d||(d=Object(S.a)(["\n  margin-right: 10px;\n"]))),oe=Object(y.c)(H)(p||(p=Object(S.a)(["\n  margin-left: 10px;\n"]))),se=function(e){var t=e.name,n=e.onSubmit,a=e.onReset,c=e.className,r=void 0===c?"":c;return Object(E.jsxs)("form",{onSubmit:n,onReset:a,className:r,children:[Object(E.jsx)(re,{name:t,required:!0,placeholder:"Type your query..."}),Object(E.jsx)(H,{type:"submit",children:"Search"}),Object(E.jsx)(oe,{type:"reset",children:"Random!"})]})},ie=Object(y.c)(se)(O||(O=Object(S.a)(["\n  margin-bottom: 20px;\n"]))),le={data:[],error:!1,meta:{page:1}},ue="query",je=Object(v.memo)(z),be=Object(v.memo)(ie),de=function(){var e=Object(v.useState)(le),t=Object(w.a)(e,2),n=t[0],a=t[1],c=Object(v.useState)(!0),r=Object(w.a)(c,2),o=r[0],s=r[1],i=n.data,l=n.error,u=n.meta,j=Object(v.useCallback)(Object(K.a)(B.a.mark((function e(){var t,n,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,J.photos.getRandom({count:10});case 4:if(t=e.sent,n=t.response,!(null===(c=t.errors)||void 0===c?void 0:c.length)){e.next=9;break}throw c;case 9:a(Object(R.a)(Object(R.a)({},le),{},{data:n})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0),a(Object(R.a)(Object(R.a)({},le),{},{error:!0}));case 16:return e.prev=16,s(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])}))),[]);Object(v.useEffect)((function(){j()}),[j]);var b=Object(v.useCallback)(function(){var e=Object(K.a)(B.a.mark((function e(t){var n,c,r,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=new FormData(t.currentTarget),c=n.get(ue),s(!0),e.prev=4,e.next=7,J.search.getPhotos({query:c,page:1,perPage:10},{});case 7:r=e.sent,o=r.response,a({error:!1,data:null===o||void 0===o?void 0:o.results,meta:{total:null===o||void 0===o?void 0:o.total,total_pages:null===o||void 0===o?void 0:o.total_pages,page:1,query:c}}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),a(Object(R.a)(Object(R.a)({},le),{},{error:!0})),console.error(e.t0);case 16:return e.prev=16,s(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,12,16,19]])})));return function(t){return e.apply(this,arguments)}}(),[]),d=Object(v.useCallback)(function(){var e=Object(K.a)(B.a.mark((function e(t){var n,c,r,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,n=u.query,c=u.page+t,e.next=6,J.search.getPhotos({query:n,page:c,perPage:10},{});case 6:r=e.sent,o=r.response,a({error:!1,data:null===o||void 0===o?void 0:o.results,meta:{total:null===o||void 0===o?void 0:o.total,total_pages:null===o||void 0===o?void 0:o.total_pages,page:c,query:n}}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),a(Object(R.a)(Object(R.a)({},le),{},{error:!0})),console.error(e.t0);case 15:return e.prev=15,s(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})));return function(t){return e.apply(this,arguments)}}(),[u.query,u.page]),p=Object(v.useCallback)((function(){d(-1)}),[d]),O=Object(v.useCallback)((function(){d(1)}),[d]);return Object(E.jsxs)("div",{children:[Object(E.jsx)(je,{}),Object(E.jsx)(be,{name:ue,onSubmit:b,onReset:j}),u.query&&u.total?Object(E.jsx)(X,{loading:o,onPrev:u.page>1?p:void 0,onNext:u.page<(u.total_pages||0)?O:void 0}):null,Object(E.jsx)("p",{children:u.total?"Total: ".concat(u.total,". Pages: ").concat(u.page," / ").concat(u.total_pages):""}),Object(E.jsx)(ce,{loading:o,data:i,error:l})]})},pe=y.c.div(m||(m=Object(S.a)(["\n  padding: 20px;\n\n  ","\n"])),(function(e){var t=e.theme.responsive;return"".concat(t.up("md")," {\n    padding: 40px;\n  }")})),Oe=function(){var e=Object(v.useState)(""),t=Object(w.a)(e,2),n=t[0],a=t[1];return Object(E.jsx)(T.Provider,{value:a,children:Object(E.jsx)(N.Provider,{value:n,children:Object(E.jsx)(pe,{children:Object(E.jsxs)(P.c,{children:[Object(E.jsx)(P.a,{exact:!0,path:"/",component:I}),n&&Object(E.jsx)(P.a,{exact:!0,path:"/images",component:de}),Object(E.jsx)(P.a,{path:"*",component:I})]})})})})};g.a.render(Object(E.jsxs)(x.a.StrictMode,{children:[Object(E.jsx)(f.a,{children:Object(E.jsx)(y.a,{theme:_,children:Object(E.jsx)(Oe,{})})}),Object(E.jsx)(C,{})]}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.b8cdf9c6.chunk.js.map