(this["webpackJsonpannalise.ai-test"]=this["webpackJsonpannalise.ai-test"]||[]).push([[0],{42:function(e,t,n){"use strict";n.r(t);var a,c,r,o,s,i,l,u,b,j,d,p,O,m=n(0),v=n.n(m),x=n(23),h=n.n(x),f=n(16),g=n(2),y=n(3),k=Object(g.b)(a||(a=Object(y.a)(["\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n"]))),C={breakpoints:{xs:320,sm:600,md:960,lg:1280,xl:1920},responsive:{up:function(e){return"@media (min-width: ".concat(C.breakpoints[e],"px)")}}},w=C,S=n(15),N=n(4),P=Object(m.createContext)(""),q=Object(m.createContext)((function(){})),_=n(6),R=g.c.input(c||(c=Object(y.a)(["\n  padding: 5px;\n"]))),T=n(1),D=function(e){var t=Object.assign({},e);return Object(T.jsx)(R,Object(_.a)({},t))},F=n(29),G=g.c.button(r||(r=Object(y.a)(["\n  padding: 5px;\n\n  &[aria-disabled='true'] {\n    cursor: not-allowed;\n  }\n\n  &[aria-disabled='true']:active {\n    pointer-events: none;\n  }\n"]))),$=["children"],E=function(e){var t=e.children,n=Object(F.a)(e,$);return Object(T.jsx)(G,Object(_.a)(Object(_.a)({},n),{},{children:t}))},M=Object(g.c)(E)(o||(o=Object(y.a)(["\n  margin-left: 10px;\n"]))),U="name",B=function(){var e=Object(N.f)().push,t=Object(m.useContext)(q),n=Object(m.useCallback)((function(n){n.preventDefault();var a=new FormData(n.currentTarget).get(U);t(a),e("/images")}),[]);return Object(T.jsx)("div",{children:Object(T.jsxs)("form",{onSubmit:n,children:[Object(T.jsx)("label",{children:Object(T.jsx)(D,{name:U,required:!0,placeholder:"Type your ".concat(U,"...")})}),Object(T.jsx)(M,{children:"Let's go"})]})})},H=n(11),I=n.n(H),J=n(17),L=n(27),z=Object(L.a)({apiUrl:"".concat("https://annalise-ai-test.herokuapp.com","/unsplash-proxy")}),A=function(){var e=Object(m.useContext)(P);return Object(T.jsxs)("h3",{children:["Hello, ",e]})},K=Object(g.c)(E)(s||(s=Object(y.a)(["\n  margin-left: 10px;\n"]))),Q=function(e){var t=e.onPrev,n=e.onNext,a=e.disabled,c=void 0!==a&&a;return Object(T.jsxs)("div",{children:[Object(T.jsx)(E,{onClick:t,disabled:!t,"aria-disabled":c,children:"Prev Page"}),Object(T.jsx)(K,{onClick:n,disabled:!n,"aria-disabled":c,children:"Next Page"})]})},V=g.c.div(i||(i=Object(y.a)(["\n  column-count: ",";\n  column-gap: ",";\n\n  > * {\n    display: grid;\n    grid-template-rows: 1fr auto;\n    overflow: hidden;\n    break-inside: avoid;\n  }\n"])),(function(e){return e.$columnCount}),(function(e){var t=e.$columnGap;return"".concat(t,"px")})),W=function(e){var t=e.children,n=e.columnCount,a=e.columnGap,c=void 0===a?10:a,r=e.className;return Object(T.jsx)(V,{$columnCount:n,$columnGap:c,className:r,children:t})},X=g.c.img(l||(l=Object(y.a)(["\n  max-width: 100%;\n"]))),Y=function(e){var t=e.url,n=e.alt,a=e.className;return Object(T.jsx)("div",{className:a,children:Object(T.jsx)(X,{src:t,alt:n})})},Z=Object(g.c)(W)(u||(u=Object(y.a)(["\n  column-count: 1;\n\n  ",";\n"])),(function(e){var t=e.columnCount,n=e.theme.responsive;return"\n    ".concat(n.up("sm")," {\n      column-count: ").concat(Math.floor(t/2),";\n    }\n    ").concat(n.up("md")," {\n      column-count: ").concat(t,";\n    }\n  ")})),ee=Object(g.c)(Y)(b||(b=Object(y.a)(["\n  display: flex;\n  justify-content: center;\n  margin-bottom: ","px;\n"])),10),te=function(e){var t=e.data,n=e.loading,a=e.error,c=e.className,r=void 0===c?"":c;return n?Object(T.jsx)("div",{children:"Loading..."}):a?Object(T.jsx)("div",{children:"Error"}):t.length?Object(T.jsx)(Z,{columnCount:4,columnGap:10,className:r,children:t.map((function(e){var t=e.id,n=e.alt_description,a=e.urls.small;return Object(T.jsx)(ee,{url:a,alt:n},t)}))}):Object(T.jsx)("div",{children:"There is no data"})},ne=Object(g.c)(D)(j||(j=Object(y.a)(["\n  margin-right: 10px;\n"]))),ae=Object(g.c)(E)(d||(d=Object(y.a)(["\n  margin-left: 10px;\n"]))),ce=function(e){var t=e.name,n=e.onSubmit,a=e.onReset,c=e.disabled,r=void 0!==c&&c,o=e.className,s=void 0===o?"":o;return Object(T.jsxs)("form",{onSubmit:n,onReset:a,className:s,children:[Object(T.jsx)(ne,{name:t,required:!0,placeholder:"Type your query..."}),Object(T.jsx)(E,{"aria-disabled":r,type:"submit",children:"Search"}),Object(T.jsx)(ae,{"aria-disabled":r,type:"reset",children:"Random!"})]})},re=Object(g.c)(ce)(p||(p=Object(y.a)(["\n  margin-bottom: 20px;\n"]))),oe="query",se={data:[],error:!1,meta:{page:1}},ie=Object(m.memo)(A),le=function(){var e=Object(m.useState)(se),t=Object(S.a)(e,2),n=t[0],a=t[1],c=Object(m.useState)(!0),r=Object(S.a)(c,2),o=r[0],s=r[1],i=n.data,l=n.error,u=n.meta,b=Object(m.useCallback)(Object(J.a)(I.a.mark((function e(){var t,n,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,z.photos.getRandom({count:10});case 4:if(t=e.sent,n=t.response,!(null===(c=t.errors)||void 0===c?void 0:c.length)){e.next=9;break}throw c;case 9:a(Object(_.a)(Object(_.a)({},se),{},{data:n})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0),a(Object(_.a)(Object(_.a)({},se),{},{error:!0}));case 16:return e.prev=16,s(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])}))),[]);Object(m.useEffect)((function(){b()}),[b]);var j=Object(m.useCallback)(function(){var e=Object(J.a)(I.a.mark((function e(t){var n,c,r,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=new FormData(t.currentTarget),c=n.get(oe),s(!0),e.prev=4,e.next=7,z.search.getPhotos({query:c,page:1,perPage:10},{});case 7:r=e.sent,o=r.response,a({error:!1,data:null===o||void 0===o?void 0:o.results,meta:{total:null===o||void 0===o?void 0:o.total,total_pages:null===o||void 0===o?void 0:o.total_pages,page:1,query:c}}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),a(Object(_.a)(Object(_.a)({},se),{},{error:!0})),console.error(e.t0);case 16:return e.prev=16,s(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,12,16,19]])})));return function(t){return e.apply(this,arguments)}}(),[]),d=Object(m.useCallback)(function(){var e=Object(J.a)(I.a.mark((function e(t){var n,c,r,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,n=u.query,c=u.page+t,e.next=6,z.search.getPhotos({query:n,page:c,perPage:10},{});case 6:r=e.sent,o=r.response,a({error:!1,data:null===o||void 0===o?void 0:o.results,meta:{total:null===o||void 0===o?void 0:o.total,total_pages:null===o||void 0===o?void 0:o.total_pages,page:c,query:n}}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),a(Object(_.a)(Object(_.a)({},se),{},{error:!0})),console.error(e.t0);case 15:return e.prev=15,s(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})));return function(t){return e.apply(this,arguments)}}(),[u.query,u.page]),p=Object(m.useCallback)((function(){d(-1)}),[d]),O=Object(m.useCallback)((function(){d(1)}),[d]);return Object(T.jsxs)("div",{children:[Object(T.jsx)(ie,{}),Object(T.jsx)(re,{name:oe,onSubmit:j,onReset:b,disabled:o}),u.query&&u.total?Object(T.jsx)(Q,{disabled:o,onPrev:u.page>1?p:void 0,onNext:u.page<(u.total_pages||0)?O:void 0}):null,Object(T.jsx)("p",{children:u.total?"Total: ".concat(u.total,". Pages: ").concat(u.page," / ").concat(u.total_pages):""}),Object(T.jsx)(te,{loading:o,data:i,error:l})]})},ue=g.c.div(O||(O=Object(y.a)(["\n  padding: 20px;\n\n  ","\n"])),(function(e){var t=e.theme.responsive;return"".concat(t.up("md")," {\n    padding: 40px;\n  }")})),be=function(){var e=Object(m.useState)(""),t=Object(S.a)(e,2),n=t[0],a=t[1];return Object(T.jsx)(q.Provider,{value:a,children:Object(T.jsx)(P.Provider,{value:n,children:Object(T.jsx)(ue,{children:Object(T.jsxs)(N.c,{children:[Object(T.jsx)(N.a,{exact:!0,path:"/",component:B}),n&&Object(T.jsx)(N.a,{exact:!0,path:"/images",component:le}),Object(T.jsx)(N.a,{path:"*",component:B})]})})})})};h.a.render(Object(T.jsxs)(v.a.StrictMode,{children:[Object(T.jsx)(f.a,{basename:"/annalise.ai-test",children:Object(T.jsx)(g.a,{theme:w,children:Object(T.jsx)(be,{})})}),Object(T.jsx)(k,{})]}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.a2254671.chunk.js.map